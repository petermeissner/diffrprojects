---
output: 
  html_document: 
    keep_md: yes
    number_sections: yes
    toc: yes
    self_contained: yes
---




```{r setting options, include=FALSE}
options("width"=101)
tmp <- devtools:::read_dcf("DESCRIPTION")
```

```{r title, results='asis', echo=FALSE}
cat("#", tmp$Title)
```

## Overview

**Status**


[![Travis-CI Build Status](https://travis-ci.org/petermeissner/diffrprojects.svg?branch=master)](https://travis-ci.org/petermeissner/diffrprojects)
[![codecov](https://codecov.io/gh/petermeissner/diffrprojects/branch/master/graph/badge.svg)](https://codecov.io/gh/petermeissner/diffrprojects/tree/master/R)
[![CRAN version](http://www.r-pkg.org/badges/version/diffrprojects)](https://cran.r-project.org/package=diffrprojects)



```{r count lines of code, include=FALSE}
filelist.R   <- list.files("R", recursive = TRUE, pattern="\\.R$", ignore.case = TRUE, full.names = TRUE)
filelist.tests   <- list.files("tests", recursive = TRUE, pattern="\\.R$", ignore.case = TRUE, full.names = TRUE)
filelist.cpp <- list.files("src", recursive = TRUE, pattern="\\.cpp$", ignore.case = TRUE, full.names = TRUE)
lines.R      <- unlist(lapply(filelist.R, readLines))
lines.tests  <- unlist(lapply(filelist.tests, readLines))
lines.cpp    <- unlist(lapply(filelist.cpp, readLines))
length.R     <- 
  length(grep("(^\\s*$)|(^\\s*#)|(^\\s*//)", lines.R,  value = TRUE, invert = TRUE))
length.tests <- 
  length(grep("(^\\s*$)|(^\\s*#)|(^\\s*//)", lines.tests,  value = TRUE, invert = TRUE))
length.cpp   <- 
  length(grep("(^\\s*$)|(^\\s*#)|(^\\s*//)", lines.cpp,  value = TRUE, invert = TRUE))
```





*R code:* `r length.R`<br> 
*C++ code:* `r length.cpp`<br> 
*test code:* `r length.tests`




<br><br>
**Version**

```{r version, results='asis', echo=FALSE}
cat(tmp$Version)
```




<br><br>
**Description**

```{r description, results='asis', echo=FALSE}
cat(tmp$Description)
```



<br><br>
**License**

```{r licence, results='asis', echo=FALSE}
cat(tmp$License, "<br>")
cat(as.character(eval(parse(text=tmp$Author))))
```



<br><br>
**Citation**


```{r citation1, results='asis', echo=FALSE}
citation("diffrprojects")
```

**BibTex for citing**

```{r citation2, eval=FALSE}
toBibtex(citation("diffrprojects"))
```



<br><br>
**Installation**

stable CRAN version

```{r installation1, eval=FALSE}
install.packages("diffrprojects")
library(rtext)
```



(stable) development version

```{r installation2, eval=FALSE}
standard_repos <- options("repos")$repos
install.packages( "diffrprojects", repos = c(standard_repos, "https://petermeissner.github.io/drat/"))
library(rtext)
```



    
## Usage

### Fast Introduction for the Impatient

For those in a hurry here is a very brief

```{r fast intro, cache=TRUE}
# loading package
library(diffrprojects)


# the first chapter of Robinson Crusoe from three different sources
rcs <- rtext:::testfile(pattern="rc.*ch1.txt", full.names = TRUE) 


# creating a new project
dp <- diffrproject$new()


# setting options
dp$options$verbose <- FALSE


# adding texts to the corpus
dp$text_add(text_file = rcs)
dp$text_data(1) %>% head(11)


# linking the files (which file should be compared to which)
dp$text_link()
dp$link %>% as.data.frame()


# calculating text alignments
dp$text_align(tokenizer=text_tokenize_words)
dp$alignment[[1]] %>% head(30)
```
   
   
   
### Creating a Diffr Project

To create a diffrproject we use the diffrproject creator object - its simply an object with an function that knows how to create a project. 

Creating a project looks like this:

```{r new project}
library(diffrprojects)
dp <- diffrproject$new()
```

Et violÃ  - we created a first, for now empty, project that we will use throughout the tutorial. 


## Some help please 

To get a better idea about what this thing called *diffrproject* really is you can consult its help page which gives a broad overview over its capabilities:

```{r getting help, eval=FALSE}
?diffrproject
```

Another way is to call its ls() method. This will present us with a data frame listing all fields where data is stored and all the methods (aka object specific functions). Those methods and fields located in *private* are not for the user to mess around with while non-private (*self* aka public) data fields can be read by the user and public methods can be triggered by the user to manipulate the data or retrieve data in a specific format. 

```{r}
dp$ls()
```





    
    
```{r}

```
